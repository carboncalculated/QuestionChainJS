describe('DropDownSpec : Given the questionBundle has object reference drop_down', {
	before_each: function(){
   	objectReferenceBundle =  {"question":{"id":"4b8167fcf78b12940a000008","name":"simple_flight2","description":"Alias omnis tenetur assumenda eligendi nisi.","ui_objects":[{"id":"4b8167fcf78b12940a000009","name":"origin_flight","_type":"UiObjects::ObjectReferenceDropDown","label":"flight origin","description":null,"default_value":null,"ui_attributes":{"visible":true,"enabled":true,"value":""},"options":[{"value":"4b7984010e61b227a9000001","name":"Herat"},{"value":"4b7984010e61b227a900000a","name":"Jalalabad"},{"value":"4b7984010e61b227a9000013","name":"Kabul International"},{"value":"4b7984020e61b227a900001c","name":"Kandahar"},{"value":"4b7984020e61b227a9000025","name":"Kunduz"},{"value":"4b7984020e61b227a900002e","name":"Maimana"},{"value":"4b7984020e61b227a9000037","name":"Mazar I Sharif"},{"value":"4b7984020e61b227a9000040","name":"Tirana Rinas"},{"value":"4b7984020e61b227a9000049","name":"Touat Cheikh Sidi Mohamed Belkebir"},{"value":"4b7984020e61b227a9000052","name":"Houari Boumediene"},{"value":"4b7984020e61b227a900005b","name":"Annaba"},{"value":"4b7984020e61b227a9000064","name":"Soummam"},{"value":"4b7984030e61b227a900006d","name":"Biskra"},{"value":"4b7984030e61b227a9000076","name":"Mohamed Boudiaf International"},{"value":"4b7984030e61b227a900007f","name":"Tiska"},{"value":"4b7984030e61b227a9000088","name":"Ech Cheliff"},{"value":"4b7984030e61b227a9000091","name":"El Golea"},{"value":"4b7984030e61b227a900009a","name":"Noumerate"},{"value":"4b7984030e61b227a90000a3","name":"Ghriss"},{"value":"4b7984030e61b227a90000ac","name":"Oued Irara"},{"value":"4b7984030e61b227a90000b5","name":"Illizi"},{"value":"4b7984040e61b227a90000be","name":"In Salah"},{"value":"4b7984040e61b227a90000c7","name":"Jijel"},{"value":"4b7984040e61b227a90000d0","name":"Laghouat"},{"value":"4b7984040e61b227a90000d9","name":"Es Senia"},{"value":"4b7984040e61b227a90000e2","name":"Tafaraoui"},{"value":"4b7984040e61b227a90000eb","name":"Ouargla"},{"value":"4b7984040e61b227a90000f4","name":"Setif Ain Arnat"},{"value":"4b7984050e61b227a90000fd","name":"Tamanrasset"},{"value":"4b7984060e61b227a9000106","name":"Cheikh Larbi Tebessi"},{"value":"4b7984060e61b227a900010f","name":"Bou Chekif"},{"value":"4b7984060e61b227a9000118","name":"Hassi R Mel"},{"value":"4b7984060e61b227a9000121","name":"Timimoun"},{"value":"4b7984060e61b227a900012a","name":"Tindouf"},{"value":"4b7984060e61b227a9000133","name":"Zenata"},{"value":"4b7984060e61b227a900013c","name":"Sidi Mahdi"},{"value":"4b7984060e61b227a9000145","name":"In Amenas"},{"value":"4b7984060e61b227a900014e","name":"Faleolo International"},{"value":"4b7984070e61b227a9000157","name":"Pago Pago International"},{"value":"4b7984070e61b227a9000160","name":"Benguela"},{"value":"4b7984070e61b227a9000169","name":"Cabinda"},{"value":"4b7984070e61b227a9000172","name":"Cazombo"},{"value":"4b7984070e61b227a900017b","name":"Chitato"},{"value":"4b7984070e61b227a9000184","name":"Huambo"},{"value":"4b7984070e61b227a900018d","name":"Kuito"},{"value":"4b7984080e61b227a9000196","name":"Luanda 4 De Fevereiro"},{"value":"4b7984080e61b227a900019f","name":"Luena"},{"value":"4b7984080e61b227a90001a8","name":"Mbanza Congo"},{"value":"4b7984080e61b227a90001b1","name":"Malanje"},{"value":"4b7984080e61b227a90001ba","name":"Menongue"}],"prompt":null,"max_options":20,"object_name":"AIRPORT","rules":[]},{"id":"4b8167fcf78b12940a00000a","name":"destination_flight","_type":"UiObjects::ObjectReferenceDropDown","label":"flight destination","description":null,"default_value":null,"ui_attributes":{"visible":true,"enabled":true,"value":""},"options":[{"value":"4b7984010e61b227a9000001","name":"Herat"},{"value":"4b7984010e61b227a900000a","name":"Jalalabad"},{"value":"4b7984010e61b227a9000013","name":"Kabul International"},{"value":"4b7984020e61b227a900001c","name":"Kandahar"},{"value":"4b7984020e61b227a9000025","name":"Kunduz"},{"value":"4b7984020e61b227a900002e","name":"Maimana"},{"value":"4b7984020e61b227a9000037","name":"Mazar I Sharif"},{"value":"4b7984020e61b227a9000040","name":"Tirana Rinas"},{"value":"4b7984020e61b227a9000049","name":"Touat Cheikh Sidi Mohamed Belkebir"},{"value":"4b7984020e61b227a9000052","name":"Houari Boumediene"},{"value":"4b7984020e61b227a900005b","name":"Annaba"},{"value":"4b7984020e61b227a9000064","name":"Soummam"},{"value":"4b7984030e61b227a900006d","name":"Biskra"},{"value":"4b7984030e61b227a9000076","name":"Mohamed Boudiaf International"},{"value":"4b7984030e61b227a900007f","name":"Tiska"},{"value":"4b7984030e61b227a9000088","name":"Ech Cheliff"},{"value":"4b7984030e61b227a9000091","name":"El Golea"},{"value":"4b7984030e61b227a900009a","name":"Noumerate"},{"value":"4b7984030e61b227a90000a3","name":"Ghriss"},{"value":"4b7984030e61b227a90000ac","name":"Oued Irara"},{"value":"4b7984030e61b227a90000b5","name":"Illizi"},{"value":"4b7984040e61b227a90000be","name":"In Salah"},{"value":"4b7984040e61b227a90000c7","name":"Jijel"},{"value":"4b7984040e61b227a90000d0","name":"Laghouat"},{"value":"4b7984040e61b227a90000d9","name":"Es Senia"},{"value":"4b7984040e61b227a90000e2","name":"Tafaraoui"},{"value":"4b7984040e61b227a90000eb","name":"Ouargla"},{"value":"4b7984040e61b227a90000f4","name":"Setif Ain Arnat"},{"value":"4b7984050e61b227a90000fd","name":"Tamanrasset"},{"value":"4b7984060e61b227a9000106","name":"Cheikh Larbi Tebessi"},{"value":"4b7984060e61b227a900010f","name":"Bou Chekif"},{"value":"4b7984060e61b227a9000118","name":"Hassi R Mel"},{"value":"4b7984060e61b227a9000121","name":"Timimoun"},{"value":"4b7984060e61b227a900012a","name":"Tindouf"},{"value":"4b7984060e61b227a9000133","name":"Zenata"},{"value":"4b7984060e61b227a900013c","name":"Sidi Mahdi"},{"value":"4b7984060e61b227a9000145","name":"In Amenas"},{"value":"4b7984060e61b227a900014e","name":"Faleolo International"},{"value":"4b7984070e61b227a9000157","name":"Pago Pago International"},{"value":"4b7984070e61b227a9000160","name":"Benguela"},{"value":"4b7984070e61b227a9000169","name":"Cabinda"},{"value":"4b7984070e61b227a9000172","name":"Cazombo"},{"value":"4b7984070e61b227a900017b","name":"Chitato"},{"value":"4b7984070e61b227a9000184","name":"Huambo"},{"value":"4b7984070e61b227a900018d","name":"Kuito"},{"value":"4b7984080e61b227a9000196","name":"Luanda 4 De Fevereiro"},{"value":"4b7984080e61b227a900019f","name":"Luena"},{"value":"4b7984080e61b227a90001a8","name":"Mbanza Congo"},{"value":"4b7984080e61b227a90001b1","name":"Malanje"},{"value":"4b7984080e61b227a90001ba","name":"Menongue"}],"prompt":null,"max_options":20,"object_name":"AIRPORT","rules":[]},{"id":"4b8167fcf78b12940a00000b","name":"return","_type":"UiObjects::CheckBox","label":"return flight","description":null,"default_value":null,"ui_attributes":{"visible":true,"enabled":true,"checked":false,"value":""},"rules":[]}]}} 
		object_drop_down = objectReferenceBundle.question.ui_objects[0]
		drop_down = new .QuestionChain.UiObject.ObjectReferenceDropDown(object_drop_down)
	},
	
	'It should be cool to create from the drop down form the json' : function() {
		value_of(drop_down.label).should_be("flight origin");
		value_of(drop_down.ui_options).should_have_exactly(50,"items")
		value_of(drop_down.html_template).should_not_be_null();
	},
	
	'It should be able to render correctly replacing using some mistache' : function() {
		var view = drop_down.render()[0].get("html");
		value_of(view).should_match(/flight origin/);
		value_of(view).should_match(/Herat/);
		value_of(view).should_match(/4b7984010e61b227a9000001/);
	}
});
